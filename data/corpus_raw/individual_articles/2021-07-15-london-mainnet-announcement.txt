Titre: London Mainnet Announcement\nAuteur: Tim Beiko\nDate: July 15, 2021\nURL: https://blog.ethereum.org/2021/07/15/london-mainnet-announcement\nCat√©gorie: Non cat√©goris√©\n\n==================================================\n\nmportant pdatennn uly , , a consensus issue was identified on the opsten network, where the go-ethereum, rigon and ethermind implementations had different transaction validation logic than esu and penthereum. ew versions of the affected clients have been released and are linked in the "lient ersions" table below. he block number for ondon is unchanged, and still is   . ode operators using an affected client  upgrade to the latest version.nnn overview of the issue is provided in the "opsten onsensus ssue" section.nnondonnnfter a successfulnntestnet deployementnn, the ondon upgrade is now ready to be activated on the thereum mainnet. t will go live on blocknn  nn, which is epected between ugust -, .nnlient ersionsnnn order to be compatible with the ondon upgrade, node operators will need to update the client version that they run. he versions, listed below for each client, support ondon on the thereum mainnet.nnhese releases are different from the previously announced releases that supported ondon on testnets. revious versions do not support ondon on mainnet.nnlientnnersion umbernnownload inknngo-ethereum (geth)nn..nn..nnownloadnnethermindnn..nn..nnownloadnnrigon (f.k.a. urboeth)nn..-alphann..-alphannownloadnnesunn..nn..nnownloadnnpenthereum (f.k.a. arity)nnv..-rc.nnownloadnnthereum nnv..nnownloadnnotesnnor miners ondon will change how the target gas limit is handled on the network. lease see the "s a miner, what do  need to do" section below for details.nnhe esu version was updated on ugust , . his was due to a non-ondon related bug affecting the transaction pool. ee morennherenn.nnhe go-ethereum, ethermind and rigon versions have been updated on uly , . his was due to the opsten consensus issue, detailled below.nnhe penthereum client will be deprecated after the ondon upgrade.nnhe  team is working with rigon on a smooth transition path for users. ore information can be foundnnherenn.nnondon snnhe following s are included in the ondon upgradenn- ee market change for  . chainnn-  opcodenn- eduction in refundsnn- eject new contracts starting with the  bytenn- ifficulty omb elay to ecember st nnhe thereum at erders have put outnna blog postnngoing over the details of these s.nnt is worth noting that -, while backwards compatible with the current transaction format, introduces changes to the block header, adds a new transaction type, comes with new   endpoints, and changes the behavior of clients in several areas (mining, transaction pool, etc.). t is highly recommended that projects familiarize themselves with the .  more etensive list of resources related to - can be foundnnherenn.nnug ounty onusnnn order to get more eyes on the changes coming in the ondon upgrade, all bounties for vulnerabilites related to ondon upgrade will be doubled, up until the upgrade happens. amples of issues that would be eligible for a doubly are cross-client consensus issues between the following clients eth, esu, ethermind, penthereum and rigon. or full details about the bug bounty's scope and restrictions, seennhttps//bounty.ethereum.org/#rulesnn.nnopsten onsensus ssuennn uly , , a consensus issue was found on the opsten testnet. he issue was caused by a missed validation for -style transactions by some client implementations. n short, a transaction whose account's balance was larger than the effective gas used by the transaction, but lower than the transaction'snnmaeeerasnnmultiplied by thenngasricennwas included in a block erroneously.nn full postmortem of the issue is available in thenneth.-specs repositorynn.nnhe affected versions containing this bug are go-ethereum .., ethermind .. and rigon ..-alpha. f you are running one of these versions, please update your client to the version listed in the table above.nnnns an thereum user or ther holder, is there anything  need to donnf you use an echange (such as oinbase, raken, or inance), a web wallet service (such as etamask, yrypto, or ytherallet), a mobile wallet service (such as oinbase allet, tatus.im, or rust allet), or a hardware wallet (such as edger, rezor, or eepey) you do not need to do anything unless you are informed to take additional steps by your echange or wallet service. f you run your own thereum node, you need to upgrade your node. ee the "s a non-mining node operator, what do  need to do" section below.nns a non-mining node operator, what do  need to donnownload the latest version of your thereum client, as listed in the table above.nns a miner, what do  need to donnirst, download the latest version of your thereum client, as listed in the table above.nnhen, you will need to manually change your gas limit target to twice what it currently is.nnhis is because once ondon is live, the block size will be doubled and - will keep blocks about % full. his can be done via -, without restarting your node, on all clients which offer mainnet-compatible mining.nnor eample, if prior to ondon you were a targetting a block size of ,, gas, you will now need to target a ,, gas limit to maintain the same amount of transactions per block, on average.nnf you do not change your gas limit target on or after block   , you will start lowering the block size on the network .nnhe table below provides the specific  call for each client you should use to update your gas limit target.nnlientnn  nngo-ethereum (geth)nnminer_setasimitnnpenthereum (f.k.a. arity)nnparity_setaseilargetnnesunnminer_changeargetasimitnnote ethermind, rigon and thereum do not yet support mining on the thereum mainnet.nnhat happens if  am a miner or node operator and  do not participate in the upgradennf you are using an thereum client that is not updated to the latest version (listed above), your client will sync to the pre-fork blockchain once the upgrade occurs. ou will be stuck on an incompatible chain following the old rules and you will be unable to send ther or operate on the post-upgrade thereum network.nnhat is a network upgrade in thereum-landnn network upgrade is a change to the underlying thereum protocol, creating new rules to improve the system. he decentralized nature of blockchain systems makes a network upgrade more difficult. etwork upgrades in a blockchain require cooperation and communication with the community, as well as with the developers of the various thereum clients in order for the transition to go smoothly.nnhat happens during a network upgradennfter the community comes to an agreement concerning which changes should be included in the upgrade, changes to the protocol are written into the various thereum clients, such as geth, rigon, esu and ethermind. he protocol changes are activated at a specific block number. ny nodes that have not been upgraded to the new ruleset will be abandoned on the old chain where the previous rules continue to eist.nnhy "ondon"nnfter stanbul, we ran out of names for our planned network upgrades.nnt was suggested to use evcon city names for upgradesnn, and we did! ondon is wherennevcon nntook place. t followed the erlinnnevcon nn.nnhank ou!nn big thanks to everyone who has been involved in researching, planning, implementing, testing, breaking, fiing, re-testing, deploying, stress-testing and assisting in any other way getting ondon deployed üòÅüá¨üáßnnhout out tonnenjamin aviesnnfor the cover image for this post!nnisclaimernnhis is an emergent and evolving highly technical space. f you choose to implement the recommendations in this post and continue to participate, you should make sure you understand how it impacts you. ou should understand that there are risks involved including but not limited to risks like unepected bugs. y choosing to implement these recommendations, you alone assume the risks of the consequences. his post and recommendations are not a sale of any kind, and do not create any warranties of any kind including but not limited to anything related to the thereum network, or the thereum clients referred to herein.