Titre: On Inflation, Transaction Fees and Cryptocurrency Monetary Policy\nAuteur: Vitalik Buterin\nDate: July 27, 2016\nURL: https://blog.ethereum.org/2016/07/27/inflation-transaction-fees-cryptocurrency-monetary-policy\nCatégorie: Non catégorisé\n\n==================================================\n\nhe primary epense that must be paid by a blockchain is that of security. he blockchain must pay miners or validators to economically participate in its consensus protocol, whether proof of work or proof of stake, and this inevitably incurs some cost. here are two ways to pay for this cost inflation and transaction fees. urrently, itcoin and thereum, the two leading proof-of-work blockchains, both use high levels of inflation to pay for security the itcoin community presently intends to decrease the inflation over time and eventually switch to a transaction-fee-only model. , one of the larger proof-of-stake blockchains, pays for security entirely with transaction fees, and in fact hasnnnegativennnet inflation because some on-chain features require destroying  the current supply isnn.% lowernnthan the original  billion. he question is, how much "defense spending" is required for a blockchain to be secure, and given a particular amount of spending required, which is the best way to get itnnbsolute size of o / o ewardsnno provide some empirical data for the net section, let us consider bitcoin as an eample. ver the past few years, bitcoin transaction revenues have been in the range of -  per day, or about .  per block (or .% of current mining rewards), and this has remained true throughout large changes in the level of adoption.nnt is not difficult to see why this may be the case increases in  adoption will increase the total sum of -denominated fees (whether through transaction volume increases or average fee increases or a combination of both) but also decrease the amount of  in a given quantity of , so it is entirely reasonable that, absent eogenous block size crises, changes in adoption that do not come with changes to underlying market structure will simply leave the -denominanted total transaction fee levels largely unchanged.nnn  years, bitcoin mining rewards are going to almost disappear hence, the .  per block will be the only source of revenue. t today's prices, this works out to ~$ per day or $ million per year. e can estimate the cost of buying up enough mining power to take over the network given these conditions in several ways.nnirst, we can look at the network hashpower and the cost of consumer miners. he network currently hasnn /snnof hashpower, the best available miners costnn$ per  /snn, so buying enough of these miners to overwhelm the eisting network will cost ~$ million . f we take away mining rewards, revenues will decrease by a factor of , so the mining ecosystem will in the long term decrease by a factor of , so the cost becomes $.m . ote that this is if you are buying new miners if you are willing to buy eisting miners, then you need to only buy half the network, knocking the cost of what im wanson calls a "aginot line" attack all the way down to ~$.m .nnowever, professional mining farms are likely able to obtain miners at substantially cheaper than consumer costs. e can look at the available information onnnitfury's $ million data centernn, which is epected to consume   of electricity. he farm will contain a combination of nm and nm chips the nm chips "achieve energy efficiency of . joules per gigahash". ince we care about determining the cost for a new attacker, we will assume that an attacker replicating itfury's feat will use nm chips eclusively.   at . joules per gigahash (physics reminder  joule per    watt per /sec) is . billion /s, or . /s. ence, itfury was able to do $ per /s, a statistic that would give a $.m cost of attacking "from outside" and a $.m cost from buying eisting miners.nnence, we have $.-m as an approimate estimate for a "aginot line attack" against a fee-only network. heaper attacks (eg. "renting" hardware) may cost - times less. f the bitcoin ecosystem increases in size, then this value will of course increase, but then the size of transactions conducted over the network will also increase and so the incentive to attack will also increase. s this level of security enough in order to secure the blockchain against attacks t is hard to tellnnit is my own opinion that the risk is very high that this is insufficientnnand so it is dangerous for a blockchain protocol to commit itself to this level of security with no way of increasing it (note that thereum's current proof of work carries no fundamental improvements to itcoin's in this regard this is why  personally have not been willing to commit to an ether supply cap at this point).nnn a proof of stake contet, security is likely to be substantially higher. o see why, note that the ratio between the computed cost of taking over the bitcoin network, and the annual mining revenue ($ million at current  price levels), is etremely low the capital costs are only worth about two months of revenue. n a proof of stake contet, the cost of deposits should be equal to the infinite future discounted sum of the returns that is, assuming a risk-adjusted discount rate of, say, %, the capital costs are worth  years of revenue. ote that if  miners consumed no electricity and lasted forever, the equilibrium in proof of work would be the same (with the eception that proof of work would still be more "wasteful" than proof of stake in an economic sense, and recovery from successful attacks would be harder) however, because electricity and especially hardware depreciation do make up the great bulk of the costs of  mining, the large discrepancy eists. ence, with proof of stake, we may see an attack cost of $- million for a network the size of itcoin hence it is more likely that the level of security will be enough, but still not certain.nnhe amsey roblemnnet us suppose that relying purely on current transaction fees is insufficient to secure the network. here are two ways to raise more revenue. ne is to increase transaction fees by constraining supply to below efficient levels, and the other is to add inflation. ow do we choose which one, or what proportions of both, to usennortunately, there is an established rule in economics for solving the problem in a way that minimizes economic deadweight loss, known asnnamsey pricingnn. amsey's original scenario was as follows. uppose that there is a regulated monopoly that has the requirement to achieve a particular profit target (possibly to break even after paying fied costs), and competitive pricing (ie. where the price of a good was set to equal the marginal cost of producing one more unit of the good) would not be sufficient to achieve that requirement. he amsey rule says that markup should be inversely proportional to demand elasticity, ie. if a % increase in price in good  causes a % reduction in demand, whereas a % increase in price in good  causes a % reduction in demand, then the socially optimal thing to do is to have the markup on good  be twice as high as the markup on good  (you may notice that this essentially decreases demand uniformly).nnhe reason why this kind of balanced approach is taken, rather than just putting the entire markup on the most inelastic part of the demand, is that the harm from charging prices above marginal cost goes up with the square of the markup. uppose that a given item takes $ to produce, and you charge $. here are likely a few people who value the item at somewhere between $ and $ (we'll say average of $.), and it is a tragic loss to society that these people will not be able to buy the item even though they would gain more from having it than the seller would lose from giving it up. owever, the number of people is small and the net loss (average $.) is small. ow, suppose that you charge $. here are now likely ten times more people with "reserve prices" between $ and $, and their average valuation is likely around $ hence, there are ten times more people who suffer, and the average social loss from each one of them is now $ instead of $., and so the net social loss is  greater. ecause of this superlinear growth, taking a little from everyone is less bad than taking a lot from one small group.nnotice how the "deadweight loss" section is a triangle. s you (hopefully) remember from math class, the area of a triangle is width * length / , so doubling the dimensions quadruples the area.nnn itcoin's case, right now we see that transaction fees arennand consistently have been in the neighborhood ofnn~  per day, or ~  per year, which is ~.% of the coin supply. e can estimate as a first approimation that, say, a  fee increase would reduce transaction load by %. n practice, it seems like bitcoin fees are up ~ since a year ago and it seems plausible that transaction load is now ~% stunted compared to what it would be without the fee increase (seennthis rough projectionnn)nnthese estimates are highly unscientificnnbut they are a decent first approimation.nnow, suppose that .% annual inflation would reduce interest in holding  by perhaps %, but we'll conservatively say %. f at some point the itcoin community decides that it wants to increase security ependitures by ~,  per year, then under those estimates, and assuming that current tfees are optimal before taking into account security ependiture considerations, the optimum would be to push up fees by . and introduce .% annual inflation. ther estimates of these measures would give other results, butnnin any case the optimal level of both the fee increase and the inflation would be nonzeronn.  use itcoin as an eample because it is the one case where we can actually try to observe the effects of growing usage restrained by a fied cap, but identical arguments apply to thereum as well.nname-heoretic ttacksnnhere is also another argument to bolster the case for inflation. his is that relying on transaction fees too much opens up the playing field for a very large and difficult-to-analyze category of game-theoretic attacks. he fundamental cause is simple if you act in a way that prevents another block from getting into the chain, then you can steal that block's transactions. ence there is an incentive for a validator to not just help themselves, but also to hurt others. his is even more direct than selfish-mining attacks, as in the case of selfish mining you hurt a specific validator to the benefit of all other validators, whereas here there are often opportunities for the attacker to benefit eclusively.nnn proof of work, one simple attack would be that if you see a block with a high fee, you attempt to mine a sister block containing the same transactions, and then offer a bounty of   to the net miner to mine on top of your block, so that subsequent validators have the incentive to include your block and not the original. f course, the original miner can then follow up by increasing the bounty further, starting a bidding war, and the miner could also pre-empt such attacks by voluntarily giving up most of the fee to the creator of the net block the end result is hard to predict and it's not at all clear that it is anywhere close to efficient for the network. n proof of stake, similar attacks are possible.nnow to distribute feesnnven given a particular distribution of revenues from inflation and revenues from transaction fees, there is an additional choice of how the transaction fees are collected. hough most protocols so far have taken one single route, there is actually quite a bit of latitude here. he three primary choices arennees go to the validator/miner that created the blocknnees go to the validators equallynnees are burnednnrguably, the more salient difference is between the first and the second the difference between the second and the third can be described as a targeting policy choice, and so we will deal with this issue separately in a later section. he difference between the first two options is this if the validator that creates a block gets the fees, that validator has an incentive equal to the size of the fees to include as many transactions as possible. f it's the validators equally, each one has a negligible incentive.nnote that literally redistributing % of fees (or, for that matter, any fied percentage of fees) is infeasible due to "ta evasion" attacks via side-channel payment instead of adding a transaction fee using the standard mechanism, transaction senders will put a zero or near-zero "official fee" and pay validators directly via other cryptocurrencies (or even ayal), allowing validators to collect % of the revenue. owever, we can get what we want by using another trick determine in protocol a minimum fee that transactions must pay, and have the protocol "confiscate" that portion but let the miners keep the entire ecess (alternatively, miners keep all transaction fees but must in turn pay a fee per byte or unit gas to the protocol this a mathematically equivalent formulation). his removes ta evasion incentives, while still placing a large portion of transaction fee revenue under the control of the protocol, allowing us to keep fee-based issuance without introducing the game-theoretic malicentives of a traditional pure-fee model.nnhe protocol cannot take all of the transaction fee revenues because the level of fees is very uneven and because it cannot price-discriminate, but it can take a portion large enough that in-protocol mechanisms have enough revenue allocating power to work with to counteract game-theoretic concerns with traditional fee-only security.nnne possible algorithm for determining this minimum fee would be a difficulty-like adjustment process that targets a medium-term average gas usage equal to / of the protocol gas limit, decreasing the minimum fee if average usage is below this value and increasing the minimum fee if average usage is higher.nne can etend this model further to provide other interesting properties. ne possibility is that of a fleible gas limit instead of a hard gas limit that blocks cannot eceed, we have a soft limitnnnnand a hard limitnnnn(say,nn   * nn). uppose that the protocol fee is  shannon per gas (in non-thereum contets, substitute other cryptocurrency units and "bytes" or other block resource limits as needed). ll transactions up tonnnnwould have to pay  shannon per gas. bove that point, however, fees would increase atnn( + ) / nn, the marginal unit of gas would cost  shannon, atnn( *  + ) / nnit would go up to  shannon, and so forth until hitting a limit of infinity atnnnn. his would give the chain a limited ability to epand capacity to meet sudden spikes in demand, reducing the price shock (a feature that some critics of the concept of a "fee market" may find attractive).nnhat to argetnnet us suppose that we agree with the points above. hen, a question still remains how do we target our policy variables, and particularly inflation o we target a fied level of participation in proof of stake (eg. % of all ether), and adjust interest rates to compensate o we target a fied level of total inflation r do we just set a fied interest rate, and allow participation and inflation to adjust r do we take some middle road where greater interest in participating leads to a combination of increased inflation, increased participation and a lower interest ratennn general, tradeoffs between targeting rules are fundamentally tradeoffs about what kinds of uncertainty we are more willing to accept, and what variables we want to reduce volatility on. he main reason to target a fied level of participation is to have certainty about the level of security. he main reason to target a fied level of inflation is to satisfy the demands of some token holders for supply predictability, and at the same time have a weaker but still present guarantee about security (it is theoretically possible that in equilibrium only % of ether would be participating, but in that case it would be getting a high interest rate, creating a partial counter-pressure). he main reason to target a fied interest rate is to minimize selfish-validating risks, as there would be no way for a validator to benefit themselves simply by hurting the interests of other validators.  hybrid route in proof of stake could combine these guarantees, for eample providing selfish mining protection if possible but sticking to a hard minimum target of % stake participation.nnow, we can also get to discussing the difference between redistributing and burning transaction fees. t is clear that,nnin epectationnn, the two are equivalent redistributing   per day and inflating   per day is the same as burning   per day and inflating   per day. he tradeoff, once again, comes in the variance. f fees are redistributed, then we have more certainty about the supply, but less certainty about the level of security, as we have certainty about the size of the validation incentive. f fees are burned, we lose certainty about the supply, but gain certainty about the size of the validation incentive and hence the level of security. urning fees also has the benefit that it minimizes cartel risks, as validators cannot gain as much by artificially pushing transaction fees up (eg. through censorship, or via capacity-restriction soft forks). nce again, a hybrid route is possible and may well be optimal, though at present it seems like an approach targeted more toward burning fees, and thereby accepting an uncertain cryptocurrency supply that may well see low decreases on net during high-usage times and low increases on net during low-usage times, is best. f usage is high enough, this may even lead to low deflation on average.