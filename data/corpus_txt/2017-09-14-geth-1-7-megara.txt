Titre: Geth 1.7 - Megara\nAuteur: Péter Szilágyi\nDate: September 14, 2017\nURL: https://blog.ethereum.org/2017/09/14/geth-1-7-megara\nCatégorie: Non catégorisé\n\n==================================================\n\nhe o thereum team is proud to announce the net release family of eth, thennfirst incarnationnnfocusing on laying the groundwork for the upcoming etropolis hard forks (yzantium and onstantinople), consisting ofnn+ code contributionsnnfor various parts of the project.nnyzantium forknnhe current incarnation of eth contains all the yzantium s implemented and also features the fork block numbernn,,nnfor the opsten testnet transition. he block numbers for inkeby and the main thereum network will be finalized when opsten is deemed stable.nnou can find details about individual protocol updates at the following locationsnn nn emoval of intermediate state roots from receipts (nn#nn).nnpanded bynn nn mbedding transaction return data in receipts (nn#nn).nn nn hange difficulty adjustment to target mean block time including uncles (nn#nn).nn nn,nn  ()nnandnn  ()nn recompiled contracts for modular eponentiation elliptic curve addition, scalar multiplication and pairing (nn#nn,nn#nn).nn  ()nn panding the  with static contract calls (nn#nn).nn nn panding the  with dynamically sized return data (nn#nn).nn  ()nn panding the  with cheap state revertals (nn#nn).nn nn elaying the difficulty bomb and reducing the block reward (nn#nn).nn nn reventing overwriting contracts (yzantium prep) (nn#nn).nnerformance optimizationsnnside from the yzantium hard fork, the . release series of eth is aimed to focus primarily on performance improvements. he first release of the family already packs a heavy punch with two database schema modifications resulting in significant optimizationsnnransaction and receipt storage was completely reworked, cutting the data storage requirements of a fast synced node in half, from . to . at the time of the implementation (nn#nn).nn log storage and indeing was completely reworked, cutting the filtering time of the entire chain for contract events by - orders of magnitude, from minutes to under a second (nn#nn,nn#nn).nnome work-in-progress updates that appear in the net releases includennpgrading the base peer-to-peer protocol used by all thereum sub-protocols, cutting the bandwidth needed for a fast sync from . to . (nn#nn). his upgrade will improve the general bandwidth requirement of the network as well as light clients too.nnntroducing a more sophisticated memory caching for state tries, reducing disk  by a couple orders of magnitude. act numbers are pending a final implementation (nn#nn).nnrezor walletsnnbout this time last year we introduced support for the edger hardware wallet. ue to popular demand, we've now epanded on hardware wallet support to include the rezor (nn#nn).nnote that the rezor is more complicated then the edger as it requires a -unlock sent from the communicating machine instead of directly input by the user. s such, when a user plugs in a rezor, eth will printnnew wallet appeared, failed to open urltrezor// err"trezor pin needed"nnhe eth console can be used to unlock the rezor by invokingnnpersonal.openallet(url)nn, which will request the user to enter the shuffled  code and send that over to the rezor for verificationnnnnpersonal.openalletnn(nn"trezor//"nn)nnook at the devicennfornnnumber positionsnnnn|nnnn|nnnn--+---+--nnnn|nnnn|nnnn--+---+--nnnn|nnnn|nnnnlease enter current nnnnnn-nn|nnnnnn]nnew wallet appearednnurlnnnntrezor//nnstatusnnnn"rezor v.. 'i' online"nnor details on how to interact with the rezor from the - s, please consult thenn descriptionnn.nnransaction journalnnn the .. release family of eth we introduced a new transaction pool to avoid propagation issues due to minimum gas-price requirements. his new pool accepted all transactions regardless of pricing, and always kept the best paying  of them, discarding the cheaper ones.nnhe new pool features a special eemption mechanism for local accounts so that a user's own transactions are always prioritized over remote ones, even if they are under-priced compared to everyone else's. his ensures that cheap transactions don't get flushed out of the network during heavy usage (e.g. ) as long as the originating node remains online.nneth .. takes this protective measure a step forward by journaling all locally created transactions to disk, and loading them back up on a node restart. his ensures that even if the originating node goes offline, cheap transactions still have a chance to be included when the node comes back (nn#nn).nnhe transaction journal can be an enormous help for node operators during software upgrades by not having to worry about local transactions going missing. urthermore, the journal also acts as a resiliency mechanism against node crashes, ensuring that no transaction data is lost.nninkeby updatesnnhere have been a lot of fine-tuning of uppeth and inkeby over the course of this release, such as better ethstats logging to detect malicious reporters and  address blacklisting to deny access for them.nnhe inkeby testnet also proved vital in finding and and fiing a transaction pool event race that caused a lot of headaches around lost transactions and/or duplicate nonce assignments. ll such known errors have now been fied (nn#nn).nnastly we're etremely happy to announce thatnnnfura became an active playernnin the inkeby test network by aiding the community both with their own bootnode as well as running an authorized signer node. his should make the inkeby network even more robust and resilient.nnlosing remarks and important note to usersnneth .. contains a lot of bug fies and we consider it our best release until now, however we urge everyone to eercise caution with the upgrade and monitor it closely afterwards as it does contain non-trivial database upgrades.nnurthermore, we'd like to emphasize thatnnthe upgraded database cannot be used by previous versions of ethnn. ur recommendation for production users it to sync from scratch with eth .., and leave the old database backed up until you confirm that the new release works correctly for all your use cases.nnor a full rundown of the changes please consult thenneth .. release milestonenn.nns always, binaries and mobile libraries are available on ournndownload pagenn.