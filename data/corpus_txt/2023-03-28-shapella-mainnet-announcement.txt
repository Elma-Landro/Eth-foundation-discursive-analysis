Titre: Mainnet Shapella Announcement\nAuteur: Protocol Support Team\nDate: March 28, 2023\nURL: https://blog.ethereum.org/2023/03/28/shapella-mainnet-announcement\nCat√©gorie: Non cat√©goris√©\n\n==================================================\n\nithdrawals are coming! he hapella network upgrade will activate on the thereum network at epochnnnn, scheduled for   on pr. , nntakers & node operators should read this post as well as thennithdrawals nnrom now until pril th, thennthereum ug ountynnrewards have been doubled for hapella vulnerabilitiesnnou can now sign up to receive emails for these upgrade announcements.nncroll to the bottom of the pagennto do so üì©nnfter a smoothnnoerli transitionnn, client teams have scheduled the hapella upgrade for mainnet activation. onsensus was quickly reached on an pril th date during thennth lloreevs ecution ayer meetingnn.nnhis upgrade followsnnhe ergennand enables validators to withdraw their stake from the eacon hain back to the eecution layer. t also introduces new functionality to both the eecution and consensus layer, described below.nnpgrade pecificationnnhe hapella upgrade combines changes to the eecution layer (hanghai), consensus layer (apella) and the ngine .nnhanghainnecution layer changes included in hanghai are availablennherenn. or reference, they arenn- arm nn-  instructionnn- imit and meter initcodenn- eacon chain push withdrawals as operationsnn- eprecate nnote that - is only a deprecationnnwarningnn. lient teams epectnnnnsemantics to change in future network upgrades, but the opcode's behavior remains unchanged in hanghai.nndditionally, the full set of hanghai changes can now be viewed in thennthereum ecution ayer pecification ()nn, which is a new ython reference implementation for the eecution layer.nnapellannhanges to the consensus layer for the apella upgrade are specified in thennv..-rc. specificationsnn. hennnnlists the full set of changes. t a high level, the upgrade introducesnnull and partial withdrawals for validatorsnnoecutionhangennmessages, which allow validators using ann__nnto update it to annn___nn, a prerequisite for withdrawalsnnndependent state and block historical accumulators, replacing the original singular historical rootsnntakers are encouraged to read thennithdrawal nnfor more information on how they should prepare for apella.nnngine nnhanges to the ngine  can be found in thennshanghai.mdnnfile of thenneecution-apisnnrepository. n short, annithdrawalnnstructure is introduced and added to relevant structures and methods. hanges to eecution layer s since he erge have been bundled in the repository'snnlatest releasenn.nnlient eleasesnnhe following client releases support hanghai & apella on the thereum mainnet. revious hapella releases only supported testnet deployments and arennnotnncompatible with the mainnet upgrade.nnhen choosing which client to run, validators should be especially mindful of the risks of running a majority client on both the eecution layer () and consensus layer (). n eplainer of these risks and their consequences can be foundnnherenn. n estimate of current  and  client distribution and guides for switching from one client to another can be foundnnherenn.nnonsensus ayer ainnet eleasesnnamennersionnninknnighthousennv..nnownloadnnodestarnnv..nnownloadnnimbusnnv..nnownloadnnrysmnnv..nnownloadnnekunnv..nnownloadnnote when running a validator, both the onsensus ayer eacon ode and alidator lient must be updated.nnecution ayer ainnet eleasesnnamennersionnninknnesunnv..nnownloadnnrigonnnv..nnv..nnownloadnngo-ethereum (geth)nnv..nnownloadnnethermindnnv..nnownloadnnotenn an issue has been found in rigon v... his release willnnnotnnbe suitable for the hapella upgrade. rigon users should upgrade to v...nnnns an thereum user or ther holder, is there anything  need to donnn short, no.nnf you use an echange, digital wallet or hardware wallet you do not need to do anything unless you are informed to take additional steps by your echange or wallet provider.nnf you run your own thereum node, see the net question.nns a non-staking node operator, what do  need to donno be compatible with the ainnet upgrade, update your node to the version of your thereum client listed in the table above.nns a staker, what do  need to donno be compatible with the ainnet upgrade, update your node to the version of your thereum client listed in the table above.nnake sure both your beacon node and validator client are updated!nne also recommend reading thennithdrawal nn.nnhat happens if  am a staker or node operator and  do not participate in the upgradennf you are using an thereum client that is not updated to the latest version (listed above), your client will sync to the pre-fork blockchain once the upgrade occurs.nnou will be stuck on an incompatible chain following the old rules and will be unable to send ther or operate on the post-hapella thereum network.nns an application or tooling developer, what should  donnhapella does not introduce breaking changes for smart contracts. pplication and tooling developers should review the upgrade changes to ensure any fies are done, or to understand how to use newly introduced functionality.nnhat said, application developers should be aware that as of hanghai, thennnnopcode is considered deprecated. hile its semantics do not change as part of this network upgrade, they likely will in subsequent ones. eenn-nnfor more information.nnhy "hapella"nnpgrades to the eecution layer follow evcon city names and those to the consensus layer follow star names. "hapella" is the combination of hanghai, the location of evcon , and apella, the brightest star in the northern constellation of uriga.nnhere can  watch hapella go livennthtakernn&nnthereum at erdersnnare hosting a hapella viewing party, starting shortly before the upgrade goes live. ou can tune innnherenn.nnhank you to everyone who contributed to the hapella upgrade, and to all the stakers - old and new - who helped secure what are still the early days of proof-of-stake thereum!nnover image originally bynniran ingnn, adapted bynnomo aitonn.